<!-- Hero Carousel Section -->
<div class='relative bg-gray-900 pt-4'>
  <!-- Swiper Container -->
  <swiper-container
    class='hero-swiper'
    pagination='true'
    pagination-clickable='true'
    navigation='false'
    space-between='0'
    centered-slides='true'
    autoplay-delay='{{ section.settings.autoplay_delay | default: 5000 }}'
    autoplay-disable-on-interaction='false'
    loop='true'
  >
    <!-- Slide 1 -->
    <swiper-slide class='relative'>
      {% if section.settings.slide_1_image != blank %}
        <img
          src='{{ section.settings.slide_1_image | img_url: "1920x1080" }}'
          alt='{{ section.settings.slide_1_title | default: "Premium Knives" }}'
          class='w-full h-full object-cover'
        >
      {% else %}
        {{
          "lifestyle-1"
          | placeholder_svg_tag: "w-full h-full bg-gray-800 object-cover"
        }}
      {% endif %}
      {% if section.settings.show_text_overlay %}
        <div class='absolute inset-0 flex items-center justify-center lg:justify-start z-10'>
          <div class='text-center lg:text-left max-w-4xl px-4 lg:ml-16'>
            <h1 class='text-4xl md:text-6xl font-bold text-white mb-4'>
              {{ section.settings.slide_1_title | default: "Premium Knives" }}
            </h1>
            <p class='text-lg md:text-xl text-gray-300 mb-8'>
              {{
                section.settings.slide_1_subtitle
                | default: "Crafted with precision, designed for perfection"
              }}
            </p>
            {% if section.settings.slide_1_button_text != blank %}
              <a
                href='{{ section.settings.slide_1_button_url | default: "/collections/all" }}'
                class='inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-300'
              >
                {{ section.settings.slide_1_button_text }}
              </a>
            {% endif %}
          </div>
        </div>
      {% endif %}
    </swiper-slide>

    <!-- Slide 2 -->
    <swiper-slide class='relative'>
      {% if section.settings.slide_2_image != blank %}
        <img
          src='{{ section.settings.slide_2_image | img_url: "1920x1080" }}'
          alt='{{ section.settings.slide_2_title | default: "Professional Grade" }}'
          class='w-full h-full object-cover'
        >
      {% else %}
        {{
          "lifestyle-1"
          | placeholder_svg_tag: "w-full h-full bg-gray-800 object-cover"
        }}
      {% endif %}
      {% if section.settings.show_text_overlay %}
        <div class='absolute inset-0 flex items-center justify-center lg:block z-10'>
          <div class='text-center lg:text-left max-w-4xl mx-auto lg:mx-0 px-4 lg:absolute lg:left-16 lg:top-1/2 lg:-translate-y-1/2'>
            <h1 class='text-4xl md:text-6xl font-bold text-white mb-4'>
              {{
                section.settings.slide_2_title
                | default: "Professional Grade"
              }}
            </h1>
            <p class='text-lg md:text-xl text-gray-300 mb-8'>
              {{
                section.settings.slide_2_subtitle
                | default: "Tools that professionals trust"
              }}
            </p>
            {% if section.settings.slide_2_button_text != blank %}
              <a
                href='{{ section.settings.slide_2_button_url | default: "/collections/professional" }}'
                class='inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-300'
              >
                {{ section.settings.slide_2_button_text }}
              </a>
            {% endif %}
          </div>
        </div>
      {% endif %}
    </swiper-slide>

    <!-- Slide 3 -->
    <swiper-slide class='relative'>
      {% if section.settings.slide_3_image != blank %}
        <img
          src='{{ section.settings.slide_3_image | img_url: "1920x1080" }}'
          alt='{{ section.settings.slide_3_title | default: "Handcrafted Excellence" }}'
          class='w-full h-full object-cover'
        >
      {% else %}
        {{
          "lifestyle-1"
          | placeholder_svg_tag: "w-full h-full bg-gray-800 object-cover"
        }}
      {% endif %}
      {% if section.settings.show_text_overlay %}
        <div class='absolute inset-0 flex items-center justify-center lg:block z-10'>
          <div class='text-center lg:text-left max-w-4xl mx-auto lg:mx-0 px-4 lg:absolute lg:left-16 lg:top-1/2 lg:-translate-y-1/2'>
            <h1 class='text-4xl md:text-6xl font-bold text-white mb-4'>
              {{
                section.settings.slide_3_title
                | default: "Handcrafted Excellence"
              }}
            </h1>
            <p class='text-lg md:text-xl text-gray-300 mb-8'>
              {{
                section.settings.slide_3_subtitle
                | default: "Every piece tells a story of craftsmanship"
              }}
            </p>
            {% if section.settings.slide_3_button_text != blank %}
              <a
                href='{{ section.settings.slide_3_button_url | default: "/pages/about" }}'
                class='inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-8 rounded-lg transition-colors duration-300'
              >
                {{ section.settings.slide_3_button_text }}
              </a>
            {% endif %}
          </div>
        </div>
      {% endif %}
    </swiper-slide>

    <!-- Autoplay Progress Indicator -->
    <div class='autoplay-progress' slot='container-end'>
      <svg viewBox='0 0 48 48'>
        <circle cx="24" cy="24" r="20"></circle>
      </svg>
      <span></span>
    </div>
  </swiper-container>
</div>

<!-- Swiper Styles -->
<style>
  .hero-swiper {
    width: 100%;
    height: 70vh;
  }

  .hero-swiper swiper-slide {
    text-align: center;
    font-size: 18px;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  .hero-swiper swiper-slide img {
    display: block;
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .autoplay-progress {
    position: absolute;
    right: 16px;
    bottom: 16px;
    z-index: 20;
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    color: #3b82f6;
  }

  .autoplay-progress svg {
    --progress: 0;
    position: absolute;
    left: 0;
    top: 0;
    z-index: 10;
    width: 100%;
    height: 100%;
    stroke-width: 4px;
    stroke: #3b82f6;
    fill: none;
    stroke-dashoffset: calc(125.6px * (1 - var(--progress)));
    stroke-dasharray: 125.6;
    transform: rotate(-90deg);
  }

  .autoplay-progress span {
    font-size: 12px;
    color: white;
  }

  /* Custom Pagination Styles */
  .hero-swiper .swiper-pagination-bullet {
    background: rgba(255, 255, 255, 0.5);
    opacity: 1;
  }

  .hero-swiper .swiper-pagination-bullet-active {
    background: #3b82f6;
  }
</style>



<!-- Initialize Swiper -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const progressCircle = document.querySelector('.autoplay-progress svg')
    const progressContent = document.querySelector('.autoplay-progress span')

    const swiperEl = document.querySelector('.hero-swiper')
    if (swiperEl) {
      swiperEl.addEventListener('autoplaytimeleft', e => {
        const [swiper, time, progress] = e.detail
        if (progressCircle) {
          progressCircle.style.setProperty('--progress', 1 - progress)
        }
        if (progressContent) {
          progressContent.textContent = `${Math.ceil(time / 1000)}s`
        }
      })
    }
  })
</script>

{% schema %}
{
  "name": "Hero Carousel",
  "settings": [
    {
      "type": "header",
      "content": "Carousel Settings"
    },
    {
      "type": "range",
      "id": "autoplay_delay",
      "label": "Autoplay Delay (seconds)",
      "min": 2000,
      "max": 5000,
      "step": 500,
      "default": 5000
    },
    {
      "type": "checkbox",
      "id": "show_text_overlay",
      "label": "Show text overlay",
      "default": true
    },
    {
      "type": "header",
      "content": "Slide 1 Settings"
    },
    {
      "type": "image_picker",
      "id": "slide_1_image",
      "label": "Slide 1 Image"
    },
    {
      "type": "text",
      "id": "slide_1_title",
      "label": "Slide 1 Title",
      "default": "Premium Knives"
    },
    {
      "type": "textarea",
      "id": "slide_1_subtitle",
      "label": "Slide 1 Subtitle",
      "default": "Crafted with precision, designed for perfection"
    },
    {
      "type": "text",
      "id": "slide_1_button_text",
      "label": "Slide 1 Button Text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "slide_1_button_url",
      "label": "Slide 1 Button URL"
    },
    {
      "type": "header",
      "content": "Slide 2 Settings"
    },
    {
      "type": "image_picker",
      "id": "slide_2_image",
      "label": "Slide 2 Image"
    },
    {
      "type": "text",
      "id": "slide_2_title",
      "label": "Slide 2 Title",
      "default": "Professional Grade"
    },
    {
      "type": "textarea",
      "id": "slide_2_subtitle",
      "label": "Slide 2 Subtitle",
      "default": "Tools that professionals trust"
    },
    {
      "type": "text",
      "id": "slide_2_button_text",
      "label": "Slide 2 Button Text",
      "default": "Explore Collection"
    },
    {
      "type": "url",
      "id": "slide_2_button_url",
      "label": "Slide 2 Button URL"
    },
    {
      "type": "header",
      "content": "Slide 3 Settings"
    },
    {
      "type": "image_picker",
      "id": "slide_3_image",
      "label": "Slide 3 Image"
    },
    {
      "type": "text",
      "id": "slide_3_title",
      "label": "Slide 3 Title",
      "default": "Handcrafted Excellence"
    },
    {
      "type": "textarea",
      "id": "slide_3_subtitle",
      "label": "Slide 3 Subtitle",
      "default": "Every piece tells a story of craftsmanship"
    },
    {
      "type": "text",
      "id": "slide_3_button_text",
      "label": "Slide 3 Button Text",
      "default": "Learn More"
    },
    {
      "type": "url",
      "id": "slide_3_button_url",
      "label": "Slide 3 Button URL"
    }
  ],
  "presets": [
    {
      "name": "Hero Carousel"
    }
  ]
}
{% endschema %}
