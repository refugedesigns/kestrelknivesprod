{% schema %}
{
  "name": "Contact Page",
  "settings": [
    {
      "type": "text",
      "id": "page_title",
      "label": "Page Title",
      "default": "GET IN TOUCH"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Our products are sold exclusively online. Local pick-up by appointment only. Have questions? Read the FAQ first."
    },
    {
      "type": "url",
      "id": "faq_link",
      "label": "FAQ Link"
    },
    {
      "type": "text",
      "id": "store_address",
      "label": "Store Address",
      "default": "3527 Sterrersnia road, Erie, PA, USA"
    }
  ],
  "presets": [
    {
      "name": "Contact Page"
    }
  ]
}
{% endschema %}

<div class='max-w-8xl mx-auto py-12 px-4 md:px-0 md:py-16'>
  <!-- Page Header -->
  <div class='text-center mb-20 border-b border-gray-200 pb-12'>
    <h1 class='text-3xl md:text-4xl font-bold text-gray-900 mb-4'>
      {{ section.settings.page_title }}
    </h1>
    <p class='text-gray-700 text-lg'>
      {{ section.settings.subtitle }}
      {% if section.settings.faq_link %}
        <a
          href='{{ section.settings.faq_link }}'
          class='text-black hover:text-gray-900 underline'
        >
          FAQ
        </a>
      {% endif %}
    </p>
  </div>

  <!-- Main Content -->
  <div class='grid grid-cols-1 lg:grid-cols-4 gap-12'>
    <!-- Contact Form (Left Side) -->
    <div class='lg:col-span-2'>
      {% form "contact" %}
        {% if form.errors %}
          <div class='border border-red-300 bg-red-50 p-4 mb-6 rounded'>
            <div class='flex items-center mb-2'>
              <div class='text-red-500 mr-2'>
                <svg class='w-5 h-5' fill='currentColor' viewBox='0 0 20 20'>
                  <path fill-rule='evenodd' d='M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z' clip-rule='evenodd'></path>
                </svg>
              </div>
              <div class='text-sm font-medium text-red-800'>
                Oh no! Your message is not sent
              </div>
            </div>
            <ul class='text-sm text-red-700 ml-7 list-disc'>
              {% for error in form.errors %}
                <li>{{ form.errors.messages[error] }}</li>
              {% endfor %}
            </ul>
          </div>
        {% elsif form.posted_successfully? %}
          <div class='border border-green-300 bg-green-50 p-4 mb-6 rounded'>
            <div class='flex items-center'>
              <div class='text-green-500 mr-2'>
                <svg class='w-5 h-5' fill='currentColor' viewBox='0 0 20 20'>
                  <path fill-rule='evenodd' d='M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z' clip-rule='evenodd'></path>
                </svg>
              </div>
              <div class='text-sm font-medium text-green-800'>
                Your message is sent successfully
              </div>
            </div>
          </div>
        {% endif %}

        <!-- Name Fields -->
        <div class='mb-6'>
          <label class='block text-sm font-medium text-gray-700 mb-2'>
            Name (required)
          </label>
          <div class='grid grid-cols-1 md:grid-cols-2 gap-4'>
            <div>
              <input
                type='text'
                name='contact[first_name]'
                placeholder='First Name'
                class='w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500'
                required
              >
            </div>
            <div>
              <input
                type='text'
                name='contact[last_name]'
                placeholder='Last Name'
                class='w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500'
                required
              >
            </div>
          </div>
        </div>

        <!-- Email Field -->
        <div class='mb-6'>
          <label class='block text-sm font-medium text-gray-700 mb-2'>
            Email Address (required)
          </label>
          <input
            type='email'
            name='contact[email]'
            placeholder='Email Address'
            class='w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500'
            required
          >
        </div>

        <!-- Subject Field -->
        <div class='mb-6'>
          <label class='block text-sm font-medium text-gray-700 mb-2'>
            Subject (required)
          </label>
          <input
            type='text'
            name='contact[subject]'
            placeholder='Subject'
            class='w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500'
            required
          >
        </div>

        <!-- Message Field -->
        <div class='mb-6'>
          <label class='block text-sm font-medium text-gray-700 mb-2'>
            Message (required)
          </label>
          <textarea
            name='contact[body]'
            rows='6'
            placeholder='Your message...'
            class='w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500 resize-vertical'
            required
          ></textarea>
        </div>

        <!-- Phone Field -->
        <div class='mb-8'>
          <label class='block text-sm font-medium text-gray-700 mb-2'>
            Phone
          </label>
          <input
            type='tel'
            name='contact[phone]'
            placeholder='Phone Number'
            class='w-full px-4 py-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500'
          >
        </div>

        <!-- Submit Button -->
        <button
          type='submit'
          class='w-full rounded-md cursor-pointer bg-black text-white py-3 px-6 border-2 border-black hover:bg-white hover:text-black transition-colors duration-200 font-medium uppercase tracking-wide'
        >
          Submit
        </button>
      {% endform %}
    </div>

    <!-- Information Section (Right Side) -->
    <div class='lg:col-span-2'>
      <div class='prose prose-lg max-w-none prose-headings:font-bold prose-headings:text-gray-900 prose-headings:uppercase prose-headings:tracking-wide prose-headings:text-lg prose-headings:mb-3 prose-p:text-gray-700 prose-p:mb-6 prose-a:text-black prose-a:hover:text-gray-900 prose-a:underline'>
        {{ page.content }}
      </div>
    </div>
  </div>
</div>
<div class='w-full h-96 overflow-hidden'>
  <iframe
    class='w-full h-full'
    width='100%'
    height='400'
    style='border:0; aspect-ratio: 16/9;'
    loading='eager'
    allowfullscreen
    referrerpolicy='no-referrer-when-downgrade'
    src='https://www.google.com/maps?q={{ section.settings.store_address | url_encode }}&output=embed'
  >
  </iframe>
</div>
